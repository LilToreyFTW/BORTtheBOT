"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{4457:function(e,t,n){n.r(t),n.d(t,{RobotSimWrapper:function(){return u},default:function(){return d}});var r=n(2495),i=n(1474),l=n(4451),o=n(2031);function s(e){let{plateSizeCm:t,enclosureHeightCm:n,onPhase:s}=e,u=(0,i.useRef)(null),d=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(!u.current)return;let e=new l.xsS;e.background=new l.Ilk(724500);let r=new l.cPb(45,1,.1,2e3);r.position.set(0,.8*n,1.2*t.d),r.lookAt(0,0,0);let i=new l.Ox3(16777215,1);i.position.set(50,100,50),e.add(i),e.add(new l.Mig(16777215,.4));let c=new o.CP7({antialias:!0});c.setSize(u.current.clientWidth,u.current.clientHeight),u.current.appendChild(c.domElement),d.current=c;let a=new l.DvJ(t.w,1,t.d),w=new l.Wid({color:5595760}),p=new l.Kj0(a,w);p.position.set(0,.5,0),e.add(p);let f=Math.min(.9*n,180),m=.45*f,h=.35*f,v=.12*f,b=.35*f,x=.25*f,g=new l.vBJ({color:65433}),j=(e,t,n)=>new l.Kj0(new l.DvJ(e,t,n),g),k=j(20,5,10);k.position.set(0,2.5,0);let S=j(15,m,15);S.position.set(0,2.5+m/2,0);let C=j(x,h,20);C.position.set(0,2.5+m+h/2,0);let z=new l.Kj0(new l.xo$(v/2,16,16),g);z.position.set(0,2.5+m+h+v/2,0);let E=j(b,8,8);E.position.set(-x/2-b/2,2.5+m+.8*h,0);let H=j(b,8,8);H.position.set(x/2+b/2,2.5+m+.8*h,0);let R=[["feet",k],["torso",S],["arms",C],["head",z]],W=0,_=null,B=()=>{if(W<R.length){let[t,n]=R[W];e.add(n),null==s||s(t),W+=1,_=window.setTimeout(B,800)}else e.add(E),e.add(H),null==s||s("done")};B();let J=()=>{d.current&&(d.current.render(e,r),requestAnimationFrame(J))};J();let K=new ResizeObserver(()=>{u.current&&d.current&&d.current.setSize(u.current.clientWidth,u.current.clientHeight)});return K.observe(u.current),()=>{_&&window.clearTimeout(_),K.disconnect(),c.dispose(),u.current&&(u.current.innerHTML="")}},[t,n,s]),(0,r.jsx)("div",{ref:u,className:"h-[360px] w-full rounded-md border"})}function u(e){let{plateW:t,plateD:n,height:i,botName:l}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{fontSize:12,opacity:.7,marginBottom:4},children:["Build Simulation: ",l]}),(0,r.jsx)(s,{plateSizeCm:{w:t,d:n},enclosureHeightCm:i})]})}var d=u}}]);